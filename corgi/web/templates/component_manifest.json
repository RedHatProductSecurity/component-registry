{% extends "base_manifest.json" %}
{% block packages %}
{% for node in obj.get_provides_nodes %}
        {% include "package_manifest.json" with component=node.obj %}
    {% endfor %}
    {
        "copyrightText": {% if obj.copyright_text %}"{{obj.copyright_text}}"{% else %}"NOASSERTION"{% endif %},
        "downloadLocation": {% if obj.channels %}"{{obj.channels.0}}"{% else %}"NOASSERTION"{% endif %},
        "externalRefs": [
            {
                "referenceCategory": "PACKAGE_MANAGER",
                "referenceLocator": "{{obj.purl|safe}}",
                "referenceType": "purl"
            }
        ],
        "filesAnalyzed": false,
        "homepage": {% if obj.related_url %}"{{obj.related_url}}"{% else %}"NOASSERTION"{% endif %},
        "licenseComments": "Licensing information is automatically generated and may be incomplete or incorrect.",
        "licenseConcluded": {% if obj.license_concluded %}"{{obj.license_concluded}}",{% else %}"NOASSERTION"{% endif %},
        "licenseDeclared": {% if obj.license_declared %}"{{obj.license_declared}}"{% else %}"NOASSERTION"{% endif %},
        "name": "{{obj.name}}",
        "originator": "NOASSERTION",
        "packageFileName": {% if obj.filename %}"{{obj.filename}}"{% else %}"NOASSERTION"{% endif %},
        "SPDXID": "SPDXRef-{{obj.uuid}}",
        "supplier": "Organization: Red Hat",
        "versionInfo": "{{obj.version}}"
    }
{% endblock %}
{% block relationships %}
    {% for node in obj.get_provides_nodes %}
        {
          "relatedSpdxElement": "SPDXRef-{{node.obj.uuid}}",{# subcomponent is built from, or contained in, component #}
          "relationshipType": {% if node.type == "PROVIDES_DEV" %}"BUILD_DEPENDENCY_OF"{% else %}"CONTAINS"{% endif %},
          "spdxElementId": "SPDXRef-{{obj.uuid}}"
        },
        {
          "relatedSpdxElement": "NONE",{# subcomponent is a leaf node #}
          "relationshipType": "CONTAINS",
          "spdxElementId": "SPDXRef-{{node.obj.uuid}}"
        },{% endfor %}
{% endblock %}
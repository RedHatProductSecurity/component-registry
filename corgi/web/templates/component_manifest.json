{# Component manifest, obj is a Component here #}{% extends "base_manifest.json" %}
{% block packages %}{% for component in obj.provides_queryset %}{
        "copyrightText": {% if component.copyright_text %}"{{component.copyright_text|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "downloadLocation": {% if component.download_url %}"{{component.download_url|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "externalRefs": [
            {
                "referenceCategory": "PACKAGE_MANAGER",
                "referenceLocator": "{{component.purl|safe}}",
                "referenceType": "purl"
            }
        ],
        "filesAnalyzed": false,
        "homepage": {% if component.related_url %}"{{component.related_url|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "licenseComments": "Licensing information is automatically generated and may be incomplete or incorrect.",
        "licenseConcluded": {% if component.license_concluded %}"{{component.license_concluded}}"{% else %}"NOASSERTION"{% endif %},
        "licenseDeclared": {% if component.license_declared %}"{{component.license_declared}}"{% else %}"NOASSERTION"{% endif %},
        "name": "{{component.name|escapejs}}",
        "originator": "NOASSERTION",
        "packageFileName": {% if component.filename %}"{{component.filename}}"{% else %}"NOASSERTION"{% endif %},
        "SPDXID": "SPDXRef-{{component.uuid}}",
        "supplier": "Organization: Red Hat",
        "versionInfo": "{{component.nevra|escapejs}}"
    },{% endfor %}
    {
        "copyrightText": {% if obj.copyright_text %}"{{obj.copyright_text|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "downloadLocation": {% if obj.download_url %}"{{obj.download_url|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "externalRefs": [
            {
                "referenceCategory": "PACKAGE_MANAGER",
                "referenceLocator": "{{obj.purl|safe}}",
                "referenceType": "purl"
            }
        ],
        "filesAnalyzed": false,
        "homepage": {% if obj.related_url %}"{{obj.related_url|escapejs}}"{% else %}"NOASSERTION"{% endif %},
        "licenseComments": "Licensing information is automatically generated and may be incomplete or incorrect.",
        "licenseConcluded": {% if obj.license_concluded %}"{{obj.license_concluded}}"{% else %}"NOASSERTION"{% endif %},
        "licenseDeclared": {% if obj.license_declared %}"{{obj.license_declared}}"{% else %}"NOASSERTION"{% endif %},
        "name": "{{obj.name|escapejs}}",
        "originator": "NOASSERTION",
        "packageFileName": {% if obj.filename %}"{{obj.filename}}"{% else %}"NOASSERTION"{% endif %},
        "SPDXID": "SPDXRef-{{obj.uuid}}",
        "supplier": "Organization: Red Hat",
        "versionInfo": "{{obj.nevra|escapejs}}"
    }
{% endblock packages %}{% block relationships %}{% for node_type, node_id in obj.get_provides_nodes_queryset %}
    {
      "relatedSpdxElement": "SPDXRef-{{obj.uuid}}",{# subcomponent is built from, or contained in, component #}
      "relationshipType": {% if node_type == "PROVIDES_DEV" %}"DEV_DEPENDENCY_OF"{% else %}"CONTAINED_BY"{% endif %},
      "spdxElementId": "SPDXRef-{{node_id}}"
    },{% endfor %}
{% endblock relationships %}